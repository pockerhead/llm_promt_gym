# ü¶Ä Rust WASM LLM Chat

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —á–∞—Ç —Å –ª–æ–∫–∞–ª—å–Ω—ã–º LLM (Ollama), –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ Rust –∏ WebAssembly.

## ‚ö° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ü¶Ä –ù–∞–ø–∏—Å–∞–Ω –Ω–∞ Rust —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º WebAssembly
- ü§ñ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ª–æ–∫–∞–ª—å–Ω—ã–º Ollama API (llama3-8b-instruct)
- üí¨ –ö—Ä–∞—Å–∏–≤—ã–π –∏ –æ—Ç–∑—ã–≤—á–∏–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —á–∞—Ç–∞
- üéØ –°–∏—Å—Ç–µ–º–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- üïê –ü–æ–∫–∞–∑ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- üßπ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—á–∏—Å—Ç–∫–∏ –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–∞
- üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **Rust** - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å [rustup.rs](https://rustup.rs/)
2. **wasm-pack** - –¥–ª—è —Å–±–æ—Ä–∫–∏ WASM:
   ```bash
   cargo install wasm-pack
   ```
3. **Ollama** - –∑–∞–ø—É—â–µ–Ω–Ω—ã–π —Å –º–æ–¥–µ–ª—å—é llama3-8b-instruct –Ω–∞ `localhost:3001/api/chat`

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Ollama

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –∑–∞–ø—É—â–µ–Ω Ollama —Å –ø—Ä–æ–∫—Å–∏ –Ω–∞ –ø–æ—Ä—Ç—É 3001:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–¥–µ–ª–∏
ollama pull llama3-8b-instruct

# –ó–∞–ø—É—Å–∫ Ollama (–æ–±—ã—á–Ω–æ –Ω–∞ –ø–æ—Ä—Ç—É 11434)
ollama serve

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∫—Å–∏ –Ω–∞ 3001 (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
# –ò–ª–∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É localhost:3001/api/chat
```

## üöÄ –ó–∞–ø—É—Å–∫

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–≤—Å–µ-–≤-–æ–¥–Ω–æ–º)

**Windows (PowerShell):**
```powershell
.\run.ps1
```

**Linux/macOS:**
```bash
./run.sh
```

–≠—Ç–∏ —Å–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –°–æ–±–µ—Ä—É—Ç WASM –º–æ–¥—É–ª—å
- –ó–∞–ø—É—Å—Ç—è—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
- –û—Ç–∫—Ä–æ—é—Ç –±—Ä–∞—É–∑–µ—Ä

### –ü–æ—ç—Ç–∞–ø–Ω—ã–π –∑–∞–ø—É—Å–∫

#### 1. –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

**Windows (PowerShell):**
```powershell
.\build.ps1
```

**Linux/macOS:**
```bash
./build.sh
```

**–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:**
```bash
wasm-pack build --target web --out-dir pkg --out-name rust_llm_chat
```

#### 2. –ó–∞–ø—É—Å–∫ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–° –ø–æ–º–æ—â—å—é –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ Python —Å–µ—Ä–≤–µ—Ä–∞:**
```bash
python serve.py
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä–æ–µ—Ç http://localhost:8000
```

**–ò–ª–∏ –¥—Ä—É–≥–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏:**
```bash
# Python (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π)
python -m http.server 8000

# Node.js
npx http-server -p 8000
```

## üìã –§–æ—Ä–º–∞—Ç API –∑–∞–ø—Ä–æ—Å–æ–≤

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–º —Å Ollama API:

```json
{
  "model": "llama3-8b-instruct",
  "messages": [
    {
      "role": "system", 
      "content": "Speak only in Russian, –≥–æ–≤–æ—Ä–∏ –¢–û–õ–¨–ö–û –ù–ê –†–£–°–°–ö–û–ú –Ø–ó–´–ö–ï! –¢—ã - –ø–æ–º–æ—â–Ω–∏–∫ –ø–æ –≤—Å–µ–º –≤–æ–ø—Ä–æ—Å–∞–º, —É–º–Ω—ã–π –∏ —Ç–æ—á–Ω—ã–π."
    },
    {
      "role": "user", 
      "content": "–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"
    }
  ],
  "stream": false
}
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
rust_llm_chat/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ lib.rs          # –û—Å–Ω–æ–≤–Ω–æ–π Rust –∫–æ–¥ —Å WASM –±–∏–Ω–¥–∏–Ω–≥–∞–º–∏
‚îú‚îÄ‚îÄ pkg/                # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ WASM —Ñ–∞–π–ª—ã (–ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏)
‚îú‚îÄ‚îÄ index.html          # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –¥–∏–∑–∞–π–Ω–æ–º
‚îú‚îÄ‚îÄ Cargo.toml          # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Rust
‚îú‚îÄ‚îÄ build.sh            # –°–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏ –¥–ª—è Unix
‚îú‚îÄ‚îÄ build.ps1           # –°–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏ –¥–ª—è Windows
‚îú‚îÄ‚îÄ run.sh              # –°–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ –¥–ª—è Unix
‚îú‚îÄ‚îÄ run.ps1             # –°–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ –¥–ª—è Windows
‚îú‚îÄ‚îÄ serve.py            # –ü—Ä–æ—Å—Ç–æ–π HTTP —Å–µ—Ä–≤–µ—Ä —Å CORS –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
‚îú‚îÄ‚îÄ .gitignore          # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è git
‚îî‚îÄ‚îÄ README.md           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üé® –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å

- **–ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω**: –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ —Ü–≤–µ—Ç–æ–≤
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω**: –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- **–ê–Ω–∏–º–∞—Ü–∏–∏**: –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –∏ –ø–æ—è–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞**: –ö –Ω–æ–≤—ã–º —Å–æ–æ–±—â–µ–Ω–∏—è–º

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏

–í —Ñ–∞–π–ª–µ `src/lib.rs` –Ω–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:
```rust
"model": "llama3-8b-instruct",
```

–ò –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –Ω—É–∂–Ω—É—é –º–æ–¥–µ–ª—å.

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ API endpoint

–í —Ñ–∞–π–ª–µ `src/lib.rs` –Ω–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:
```rust
let response = Request::post("http://localhost:3001/api/chat")
```

–ò –∑–∞–º–µ–Ω–∏—Ç–µ URL –Ω–∞ –Ω—É–∂–Ω—ã–π.

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è

–í —Ñ–∞–π–ª–µ `src/lib.rs` –Ω–∞–π–¥–∏—Ç–µ:
```rust
content: "Speak only in Russian, –≥–æ–≤–æ—Ä–∏ –¢–û–õ–¨–ö–û –ù–ê –†–£–°–°–ö–û–ú –Ø–ó–´–ö–ï! –¢—ã - –ø–æ–º–æ—â–Ω–∏–∫ –ø–æ –≤—Å–µ–º –≤–æ–ø—Ä–æ—Å–∞–º, —É–º–Ω—ã–π –∏ —Ç–æ—á–Ω—ã–π.".to_string(),
```

–ò –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –Ω—É–∂–Ω–æ–µ —Å–∏—Å—Ç–µ–º–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.

## üêõ –û—Ç–ª–∞–¥–∫–∞

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞** –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ JavaScript
2. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Ollama API –¥–æ—Å—Ç—É–ø–µ–Ω** –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:3001/api/chat`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** –≤–∞—à–µ–≥–æ API
4. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ WASM —Ñ–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã** –ø—Ä–∞–≤–∏–ª—å–Ω–æ

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è pull requests –∏ issues! 